<section class="home">
  <!-- Loader mientras carga -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando datos...</p>
  </div>

  <!-- Contenido principal -->
  <div *ngIf="!isLoading">
    <!-- Header del Dashboard -->
    <div class="dashboard-header">
      <h1>Dashboard de Control de Asistencia</h1>
      <p>Resumen general de asistencias y estadísticas</p>
    </div>

    <!-- Tarjetas de resumen -->
    <div class="stats-cards">
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-info">
          <h3>Total Empleados</h3>
          <p class="stat-value">{{ totalEmpleados }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon present">
          <i class="fas fa-user-check"></i>
        </div>
        <div class="stat-info">
          <h3>Presentes Hoy</h3>
          <p class="stat-value">{{ presentesHoy }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon absent">
          <i class="fas fa-user-times"></i>
        </div>
        <div class="stat-info">
          <h3>Ausentes Hoy</h3>
          <p class="stat-value">{{ ausentesHoy }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-percentage"></i>
        </div>
        <div class="stat-info">
          <h3>% Asistencia</h3>
          <p class="stat-value">{{ porcentajeAsistencia }}%</p>
        </div>
      </div>
    </div>

    <!-- Accesos rápidos -->
    <div class="quick-actions">
      <h2>Accesos Rápidos</h2>
      <div class="action-cards">
        <a routerLink="/asistencias" class="action-card">
          <i class="fas fa-clock"></i>
          <h3>Registrar Asistencia</h3>
          <p>Marcar entrada/salida de empleados</p>
        </a>

        <a routerLink="/estadisticas" class="action-card">
          <i class="fas fa-chart-bar"></i>
          <h3>Ver Estadísticas</h3>
          <p>Análisis y reportes detallados</p>
        </a>

        <a routerLink="/reportes" class="action-card">
          <i class="fas fa-file-alt"></i>
          <h3>Generar Reportes</h3>
          <p>Exportar datos y documentos</p>
        </a>
      </div>
    </div>

    <!-- Últimas asistencias registradas -->
    <div class="recent-activity">
      <h2>Últimas Asistencias Registradas</h2>
      
      <!-- Mensaje si no hay asistencias -->
      <div *ngIf="ultimasAsistencias.length === 0" class="no-data">
        <i class="fas fa-inbox"></i>
        <p>No hay asistencias registradas aún</p>
      </div>

      <!-- Lista de asistencias -->
      <div class="activity-list" *ngIf="ultimasAsistencias.length > 0">
        <div class="activity-item" *ngFor="let asistencia of ultimasAsistencias">
          <div class="activity-icon">
            <i class="fas fa-user-clock"></i>
          </div>
          <div class="activity-info">
            <h4>{{ asistencia.nombreCompleto }}</h4>
            <p>{{ formatearFecha(asistencia.fecha) }} - {{ formatearHora(asistencia.horaEntrada) }}</p>
          </div>
          <div class="activity-status" [ngClass]="obtenerClaseEstado(asistencia.estado)">
            {{ obtenerTextoEstado(asistencia.estado) }}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>